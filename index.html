<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Отчёт по маркету</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 16px;
      background-color: #020617;
      color: #f9fafb;
    }
    .card {
      background: #020617;
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 20px 35px rgba(0,0,0,0.6);
      border: 1px solid #1e293b;
    }
    h1 {
      font-size: 20px;
      margin-top: 0;
      margin-bottom: 12px;
    }
    p {
      font-size: 13px;
      margin-top: 0;
      margin-bottom: 16px;
      color: #9ca3af;
    }
    label {
      display: block;
      margin-top: 10px;
      margin-bottom: 4px;
      font-size: 14px;
    }
    input, select {
      width: 100%;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #4b5563;
      background: #020617;
      color: #f9fafb;
      box-sizing: border-box;
      font-size: 14px;
    }
    input:focus, select:focus {
      outline: none;
      border-color: #22c55e;
    }
    button {
      width: 100%;
      margin-top: 18px;
      padding: 10px;
      border-radius: 999px;
      border: none;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      background: #22c55e;
      color: #022c22;
    }
    button:disabled {
      background: #4b5563;
      color: #9ca3af;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Отчёт по маркету</h1>
    <p>Выберите магазин и укажите остатки продукции.</p>

    <label for="market">Маркет</label>
    <select id="market"></select>

    <label for="bread">Буханка (шт)</label>
    <input id="bread" type="number" min="0" value="0" />

    <label for="lepeshki">Лепешки (шт)</label>
    <input id="lepeshki" type="number" min="0" value="0" />

    <label for="patyr">Патыр (шт)</label>
    <input id="patyr" type="number" min="0" value="0" />

    <label for="assortment">Ассортимент (шт)</label>
    <input id="assortment" type="number" min="0" value="0" />

    <button id="submit">Отправить отчёт</button>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    const MARKETS = [
      "Маркет B-01","Маркет B-02","Маркет B-03","Маркет B-04","Маркет B-05",
      "Маркет B-06","Маркет B-07","Маркет B-08","Маркет B-09",
      "Маркет D-01","Маркет D-02","Маркет D-03","Маркет D-04","Маркет D-05",
      "Маркет D-06","Маркет D-07","Маркет D-08","Маркет D-09","Маркет D-10",
      "Маркет D-12","Маркет D-14","Маркет D-16","Маркет D-18",
      "Маркет Dz-01","Маркет Dz-02","Маркет Dz-03","Маркет Dz-04",
      "Маркет K-01","Маркет K-02","Маркет K-03","Маркет K-04","Маркет K-05",
      "Маркет K-06","Маркет K-07",
      "Маркет А-01","Маркет А-02","Маркет А-03","Маркет А-04","Маркет А-05",
      "Маркет А-06","Маркет А-07","Маркет А-08","Маркет А-09","Маркет А-10",
      "Маркет А-11","Маркет А-12","Маркет А-13","Маркет А-14","Маркет А-15",
      "Маркет А-16","Маркет А-17","Маркет А-18","Маркет А-19","Маркет А-20",
      "Маркет А-21","Маркет А-22","Маркет А-23","Маркет А-24","Маркет А-25",
      "Маркет А-27","Маркет А-28","Маркет А-29","Маркет А-30","Маркет А-31",
      "Маркет А-32","Маркет А-34","Маркет А-35","Маркет А-37",
      "Маркет М-02","Маркет М-03","Маркет М-04","Маркет М-05","Маркет М-06",
      "Маркет М-07","Маркет М-08","Маркет М-11","Маркет М-12","Маркет М-13",
      "Маркет М-14","Маркет М-16","Маркет М-18","Маркет М-19","Маркет М-20",
      "Маркет М-21","Маркет М-22","Маркет М-23","Маркет М-25","Маркет М-26",
      "Маркет М-27","Маркет М-28","Маркет М-30","Маркет М-31","Маркет М-32",
      "Маркет М-33","Маркет М-34","Маркет М-35","Маркет М-36","Маркет М-37",
      "Маркет М-40","Маркет М-41","Маркет М-42","Маркет М-43","Маркет М-44",
      "Маркет М-45","Маркет М-46","Маркет М-47","Маркет М-48","Маркет М-49",
      "Маркет М-50","Маркет М-51","Маркет М-53","Маркет М-55","Маркет М-56",
      "Маркет М-57","Маркет М-58","Маркет М-59","Маркет М-60","Маркет М-61",
      "Маркет М-62","Маркет М-63","Маркет М-64","Маркет М-65","Маркет М-66",
      "Маркет М-67","Маркет М-68","Маркет М-69","Маркет М-70","Маркет М-71",
      "Маркет М-72","Маркет М-73","Маркет М-74","Маркет М-75","Маркет М-76",
      "Маркет М-78","Маркет М-79","Маркет М-80","Маркет М-81","Маркет М-82",
      "Маркет М-83","Маркет М-84","Маркет М-85","Маркет М-86","Маркет М-87",
      "Маркет М-88","Маркет М-89","Маркет М-90","Маркет М-91","Маркет М-92",
      "Маркет М-93","Маркет М-95","Маркет М-96","Маркет М-97","Маркет М-98",
      "Маркет М-99",
      "Маркет М-101","Маркет М-102","Маркет М-103","Маркет М-104","Маркет М-105",
      "Маркет М-106","Маркет М-107","Маркет М-108","Маркет М-109","Маркет М-110",
      "Маркет М-111","Маркет М-112","Маркет М-113","Маркет М-114","Маркет М-115",
      "Маркет М-116","Маркет М-117","Маркет М-118","Маркет М-119","Маркет М-120",
      "Маркет М-121","Маркет М-122","Маркет М-123","Маркет М-124","Маркет М-125",
      "Маркет М-126","Маркет М-127","Маркет М-128","Маркет М-129","Маркет М-130",
      "Маркет М-131","Маркет М-132","Маркет М-133","Маркет М-134","Маркет М-135",
      "Маркет М-137","Маркет М-139","Маркет М-140","Маркет М-141","Маркет М-142",
      "Маркет М-143","Маркет М-144","Маркет М-145","Маркет М-146","Маркет М-147",
      "Маркет М-148","Маркет М-149","Маркет М-151","Маркет М-153","Маркет М-156",
      "Маркет М-161","Маркет М-164",
      "Маркет С-01","Маркет С-03","Маркет С-04","Маркет С-05","Маркет С-06",
      "Маркет С-07","Маркет С-08","Маркет С-09","Маркет С-10","Маркет С-11",
      "Маркет С-12","Маркет С-13","Маркет С-14","Маркет С-15","Маркет С-16Т",
      "Маркет С-17","Маркет С-18","Маркет С-19","Маркет С-20","Маркет С-21",
      "Маркет С-22","Маркет С-23","Маркет С-25","Маркет С-27",
      "Маркет S-01","Маркет S-03","Маркет S-06","Маркет S-09",
      "Маркет D-15","Маркет D-17"
    ];

    const marketSelect = document.getElementById("market");
    MARKETS.forEach(m => {
      const opt = document.createElement("option");
      opt.value = m;
      opt.textContent = m;
      marketSelect.appendChild(opt);
    });

    document.getElementById("submit").addEventListener("click", () => {
      const payload = {
        market: marketSelect.value,
        bread: Number(document.getElementById("bread").value || 0),
        lepeshki: Number(document.getElementById("lepeshki").value || 0),
        patyr: Number(document.getElementById("patyr").value || 0),
        assortment: Number(document.getElementById("assortment").value || 0),
      };

      tg.sendData(JSON.stringify(payload));
      tg.close();
    });
  </script>
</body>
</html>

